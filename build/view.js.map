{"version":3,"file":"view.js","mappings":"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","sources":["webpack://spacial-button/./src/view.js"],"sourcesContent":["const spacialContainers = document.querySelectorAll('.wp-block-spc-btn-spacial-button')\r\n\r\nfunction calculateContainerBox(container){\r\n    const containerBox = container.getBoundingClientRect()\r\n    const innerContainerBox = container.childNodes[1].getBoundingClientRect()\r\n\r\n    let values = {\r\n        outer:{\r\n            x:containerBox.x,\r\n            y:containerBox.y,\r\n            w:containerBox.width,\r\n            h:containerBox.height\r\n        }\r\n    }\r\n\r\n    return values\r\n}\r\n\r\nfunction calculateSpacialRel(container, event){\r\n    \r\n    const containerBox = calculateContainerBox(container)\r\n    const mX = event.x\r\n    const mY = event.y\r\n\r\n    const mRelX = mX - containerBox.outer.x\r\n    const mRelY = mY - containerBox.outer.y\r\n\r\n    // console.log(mRelX, mRelY)\r\n\r\n    let precision = 1000\r\n\r\n    let percentW = Math.floor((mRelX / containerBox.outer.w)*precision)/precision\r\n    let percentH = Math.floor((mRelY / containerBox.outer.h)*precision)/precision\r\n\r\n    // console.log(percentW, percentH)\r\n\r\n    let posX = percentW * containerBox.outer.w\r\n    let posY = percentH * containerBox.outer.h\r\n\r\n    // console.log(`x:${posX}/${containerBox.outer.w}`, `y: ${posY}/${containerBox.outer.h} - ${percentH}`)\r\n\r\n    container.style.setProperty('--posX', `${posX}px`)\r\n    container.style.setProperty('--posY', `${posY}px`)\r\n\r\n}\r\n\r\nfunction calculateSpacialAbs(container, event){\r\n\r\n}\r\n\r\nwindow.onload = () =>{\r\n        spacialContainers.forEach((container)=>{\r\n            if(container.classList.contains('is-local')){\r\n                container.addEventListener(\"mousemove\", (e)=>{\r\n                    calculateSpacialRel(container, e)\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n// window.addEventListener('resize', ()=>{\r\n//     setAllDimentions(spacialContainers)\r\n//     document.body.style.setProperty('--spacial-left-global', `50svw`);\r\n//     document.body.style.setProperty('--spacial-top-global', `50svh`);\r\n// })\r\n\r\n\r\nlet visibleSpacial = []\r\nconst spacialObserver = new IntersectionObserver((entries)=>{\r\n    entries.forEach(entry=>{\r\n        if(entry.isIntersecting){\r\n            visibleSpacial.push(entry.target)\r\n        }else{\r\n            const index = visibleSpacial.indexOf(entry.target);\r\n            if (index !== -1) {\r\n                visibleSpacial.splice(index, 1);\r\n            }\r\n        }\r\n    })\r\n\r\n    if(visibleSpacial.length > 0){\r\n        // window.addEventListener('scroll', observeScrolling)\r\n    }else if(visibleSpacial.length <= 0){\r\n        // window.removeEventListener('scroll', observeScrolling)\r\n    }\r\n}, {\r\n    threshold:0\r\n})\r\n\r\nspacialContainers.forEach((container)=>{\r\n    spacialObserver.observe(container)\r\n})\r\n"],"names":["spacialContainers","document","querySelectorAll","calculateContainerBox","container","containerBox","getBoundingClientRect","innerContainerBox","childNodes","values","outer","x","y","w","width","h","height","calculateSpacialRel","event","mX","mY","mRelX","mRelY","precision","percentW","Math","floor","percentH","posX","posY","style","setProperty","calculateSpacialAbs","window","onload","forEach","classList","contains","addEventListener","e","visibleSpacial","spacialObserver","IntersectionObserver","entries","entry","isIntersecting","push","target","index","indexOf","splice","length","threshold","observe"],"sourceRoot":""}